import{r as f,R as M,j as l,d as V,g as L,m as C}from"./index-Df9kuZqr.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var S=function(r,t){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])},S(r,t)};function A(r,t){S(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var z=100,_=100,T=50,E=50,j=50;function W(r){var t=r.className,e=r.counterClockwise,n=r.dashRatio,s=r.pathRadius,i=r.strokeWidth,a=r.style;return f.createElement("path",{className:t,style:Object.assign({},a,X({pathRadius:s,dashRatio:n,counterClockwise:e})),d:q({pathRadius:s,counterClockwise:e}),strokeWidth:i,fillOpacity:0})}function q(r){var t=r.pathRadius,e=r.counterClockwise,n=t,s=e?1:0;return`
      M `+E+","+j+`
      m 0,-`+n+`
      a `+n+","+n+" "+s+" 1 1 0,"+2*n+`
      a `+n+","+n+" "+s+" 1 1 0,-"+2*n+`
    `}function X(r){var t=r.counterClockwise,e=r.dashRatio,n=r.pathRadius,s=Math.PI*2*n,i=(1-e)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(t?-i:i)+"px"}}var Q=function(r){A(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return T-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,n=e.value,s=e.minValue,i=e.maxValue,a=Math.min(Math.max(n,s),i);return(a-s)/(i-s)},t.prototype.render=function(){var e=this.props,n=e.circleRatio,s=e.className,i=e.classes,a=e.counterClockwise,o=e.styles,c=e.strokeWidth,v=e.text,d=this.getPathRadius(),p=this.getPathRatio();return f.createElement("svg",{className:i.root+" "+s,style:o.root,viewBox:"0 0 "+z+" "+_,"data-test-id":"CircularProgressbar"},this.props.background?f.createElement("circle",{className:i.background,style:o.background,cx:E,cy:j,r:T}):null,f.createElement(W,{className:i.trail,counterClockwise:a,dashRatio:n,pathRadius:d,strokeWidth:c,style:o.trail}),f.createElement(W,{className:i.path,counterClockwise:a,dashRatio:p*n,pathRadius:d,strokeWidth:c,style:o.path}),v?f.createElement("text",{className:i.text,style:o.text,x:E,y:j},v):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(f.Component);function G(r){var t=r.rotation,e=r.strokeLinecap,n=r.textColor,s=r.textSize,i=r.pathColor,a=r.pathTransition,o=r.pathTransitionDuration,c=r.trailColor,v=r.backgroundColor,d=t==null?void 0:"rotate("+t+"turn)",p=t==null?void 0:"center center";return{root:{},path:k({stroke:i,strokeLinecap:e,transform:d,transformOrigin:p,transition:a,transitionDuration:o==null?void 0:o+"s"}),trail:k({stroke:c,strokeLinecap:e,transform:d,transformOrigin:p}),text:k({fill:n,fontSize:s}),background:k({fill:v})}}function k(r){return Object.keys(r).forEach(function(t){r[t]==null&&delete r[t]}),r}var R,B;function Y(){if(B)return R;B=1;var r={linear:function(t,e,n,s){var i=n-e;return i*t/s+e},easeInQuad:function(t,e,n,s){var i=n-e;return i*(t/=s)*t+e},easeOutQuad:function(t,e,n,s){var i=n-e;return-i*(t/=s)*(t-2)+e},easeInOutQuad:function(t,e,n,s){var i=n-e;return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,s){var i=n-e;return i*(t/=s)*t*t+e},easeOutCubic:function(t,e,n,s){var i=n-e;return i*((t=t/s-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,s){var i=n-e;return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,s){var i=n-e;return i*(t/=s)*t*t*t+e},easeOutQuart:function(t,e,n,s){var i=n-e;return-i*((t=t/s-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,s){var i=n-e;return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,s){var i=n-e;return i*(t/=s)*t*t*t*t+e},easeOutQuint:function(t,e,n,s){var i=n-e;return i*((t=t/s-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,s){var i=n-e;return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,s){var i=n-e;return-i*Math.cos(t/s*(Math.PI/2))+i+e},easeOutSine:function(t,e,n,s){var i=n-e;return i*Math.sin(t/s*(Math.PI/2))+e},easeInOutSine:function(t,e,n,s){var i=n-e;return-i/2*(Math.cos(Math.PI*t/s)-1)+e},easeInExpo:function(t,e,n,s){var i=n-e;return t==0?e:i*Math.pow(2,10*(t/s-1))+e},easeOutExpo:function(t,e,n,s){var i=n-e;return t==s?e+i:i*(-Math.pow(2,-10*t/s)+1)+e},easeInOutExpo:function(t,e,n,s){var i=n-e;return t===0?e:t===s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,n,s){var i=n-e;return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},easeOutCirc:function(t,e,n,s){var i=n-e;return i*Math.sqrt(1-(t=t/s-1)*t)+e},easeInOutCirc:function(t,e,n,s){var i=n-e;return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,s){var i=n-e,a,o,c;return c=1.70158,o=0,a=i,t===0?e:(t/=s)===1?e+i:(o||(o=s*.3),a<Math.abs(i)?(a=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*s-c)*(2*Math.PI)/o))+e)},easeOutElastic:function(t,e,n,s){var i=n-e,a,o,c;return c=1.70158,o=0,a=i,t===0?e:(t/=s)===1?e+i:(o||(o=s*.3),a<Math.abs(i)?(a=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin((t*s-c)*(2*Math.PI)/o)+i+e)},easeInOutElastic:function(t,e,n,s){var i=n-e,a,o,c;return c=1.70158,o=0,a=i,t===0?e:(t/=s/2)===2?e+i:(o||(o=s*(.3*1.5)),a<Math.abs(i)?(a=i,c=o/4):c=o/(2*Math.PI)*Math.asin(i/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*s-c)*(2*Math.PI)/o))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-c)*(2*Math.PI)/o)*.5+i+e)},easeInBack:function(t,e,n,s,i){var a=n-e;return i===void 0&&(i=1.70158),a*(t/=s)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,s,i){var a=n-e;return i===void 0&&(i=1.70158),a*((t=t/s-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,s,i){var a=n-e;return i===void 0&&(i=1.70158),(t/=s/2)<1?a/2*(t*t*(((i*=1.525)+1)*t-i))+e:a/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},easeInBounce:function(t,e,n,s){var i=n-e,a;return a=r.easeOutBounce(s-t,0,i,s),i-a+e},easeOutBounce:function(t,e,n,s){var i=n-e;return(t/=s)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,s){var i=n-e,a;return t<s/2?(a=r.easeInBounce(t*2,0,i,s),a*.5+e):(a=r.easeOutBounce(t*2-s,0,i,s),a*.5+i*.5+e)}};return R=r,R}var H=Y();function U(r){return r*Math.PI/180}function g(r,t){return r+Math.random()*(t-r)}function $(r,t){return Math.floor(r+Math.random()*(t-r+1))}var P;(function(r){r[r.Circle=0]="Circle",r[r.Square=1]="Square",r[r.Strip=2]="Strip"})(P||(P={}));var m;(function(r){r[r.Positive=1]="Positive",r[r.Negative=-1]="Negative"})(m||(m={}));const K=1e3/60;class J{constructor(t,e,n,s){this.getOptions=e;const{colors:i,initialVelocityX:a,initialVelocityY:o}=this.getOptions();this.context=t,this.x=n,this.y=s,this.w=g(5,20),this.h=g(5,20),this.radius=g(5,10),this.vx=typeof a=="number"?g(-a,a):g(a.min,a.max),this.vy=typeof o=="number"?g(-o,0):g(o.min,o.max),this.shape=$(0,2),this.angle=U(g(0,360)),this.angularSpin=g(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=g(0,1),this.rotationDirection=g(0,1)?m.Positive:m.Negative}update(t){const{gravity:e,wind:n,friction:s,opacity:i,drawShape:a}=this.getOptions(),o=t/K;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=e*o,this.vx+=n*o,this.vx*=s**o,this.vy*=s**o,this.rotateY>=1&&this.rotationDirection===m.Positive?this.rotationDirection=m.Negative:this.rotateY<=-1&&this.rotationDirection===m.Negative&&(this.rotationDirection=m.Positive);const c=.1*this.rotationDirection*o;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case P.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case P.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case P.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Z{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=g(this.x,this.w+this.x),i=g(this.y,this.h+this.y);return new J(this.context,this.getOptions,s,i)},this.animate=s=>{const{canvas:i,context:a,particlesGenerated:o,lastNumberOfPieces:c}=this,{run:v,recycle:d,numberOfPieces:p,debug:O,tweenFunction:w,tweenDuration:I}=this.getOptions();if(!v)return!1;const y=this.particles.length,h=d?y:o;if(h<p){c!==p&&(this.tweenProgress=0,this.tweenFrom=h,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(I,Math.max(0,this.tweenProgress+s));const x=w(this.tweenProgress,this.tweenFrom,p,I),u=Math.round(x-h);for(let b=0;b<u;b++)this.particles.push(this.getParticle());this.particlesGenerated+=u}O&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${y}`,i.width-10,i.height-20));for(let x=this.particles.length-1;x>=0;x--){const u=this.particles[x];u.update(s),(u.y>i.height||u.y<-100||u.x>i.width+100||u.x<-100)&&(d&&h<=p?this.particles[x]=this.getParticle():this.removeParticleAt(x))}return y>0||h<p},this.canvas=t;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=e}}const D={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:H.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class tt{constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...D,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:i,onConfettiComplete:a,frameRate:o},canvas:c,context:v}=this,d=Math.min(s-this.lastFrameTime,50);if(o&&d<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(o?d%o:0),i&&(v.fillStyle="white",v.clearRect(0,0,c.width,c.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new Z(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){var s,i;const e=(s=this._options)==null?void 0:s.run,n=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}}const et=M.createRef();class F extends M.Component{constructor(t){super(t),this.canvas=M.createRef(),this.canvas=t.canvasRef||et}componentDidMount(){if(this.canvas.current){const t=N(this.props)[0];this.confetti=new tt(this.canvas.current,t)}}componentDidUpdate(){const t=N(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=N(this.props),n={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return l.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:n})}}F.defaultProps={...D};F.displayName="ReactConfetti";function N(r){const t={},e={},n={},s=[...Object.keys(D),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const a in r){const o=r[a];s.includes(a)?t[a]=o:i.includes(a)?i[a]=o:n[a]=o}return[t,n,e]}const it=M.forwardRef((r,t)=>l.jsx(F,{canvasRef:t,...r})),nt=()=>{const[r,t]=f.useState([]),[e,n]=f.useState(0),[s,i]=f.useState(0),[a,o]=f.useState(0),[c,v]=f.useState({width:0,height:0}),[d,p]=f.useState(!1),O=f.useRef(0),{name:w,imageUrl:I}=V(h=>h.user.user||{});f.useEffect(()=>{const h=()=>{v({width:window.innerWidth,height:window.innerHeight})};return h(),window.addEventListener("resize",h),L.get("user/dashboard").then(x=>{const u=x.data;t(u.dashboard||[]),i(u.xp||0),o(u.streak||0),n(u.level||0),u.level>O.current&&(p(!0),setTimeout(()=>p(!1),3e3)),O.current=u.level}),()=>window.removeEventListener("resize",h)},[]);const y=s%100;return l.jsxs("div",{className:"p-6 md:p-10 bg-gradient-to-br from-[#1f2937] to-[#111827] min-h-screen text-white",children:[d&&l.jsx(it,{width:c.width,height:c.height}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-10",children:[l.jsxs(C.div,{className:"flex items-center gap-4 bg-gray-800 p-5 rounded-2xl shadow-xl w-full md:w-fit",initial:{opacity:0,x:-40},animate:{opacity:1,x:0},children:[l.jsx("div",{className:"w-20 h-20",children:l.jsx(Q,{value:y,text:`Lv ${e}`,styles:G({textColor:"#fff",pathColor:"#4ade80",trailColor:"#374151",textSize:"22px"})})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",(w==null?void 0:w.split(" ")[0])||"Learner"," 👋"]}),l.jsxs("p",{className:"text-sm text-gray-300",children:["XP: ",s," • Streak: 🔥 ",a," days"]})]})]}),l.jsxs(C.div,{className:"bg-gradient-to-r from-pink-500 to-purple-600 px-6 py-3 rounded-xl shadow-lg font-semibold text-lg animate-pulse",initial:{scale:.8},animate:{scale:1},children:["🎖️ ",l.jsxs("span",{className:"text-white",children:["Level ",e]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:r.length>0?r.map((h,x)=>l.jsxs(C.div,{className:"bg-gray-800 p-5 rounded-2xl shadow-2xl hover:shadow-indigo-500/20 transition-shadow hover:scale-[1.02]",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:x*.1},children:[l.jsx("img",{src:h.imageUrl,alt:h.title,className:"w-full h-44 object-cover rounded-xl mb-4 border border-gray-700"}),l.jsx("h2",{className:"text-xl font-bold mb-1",children:h.title}),l.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Difficulty:"," ",l.jsx("span",{className:"capitalize text-indigo-400",children:h.difficulty})]}),l.jsx("div",{className:"w-full bg-gray-700 h-3 rounded-full overflow-hidden mb-3",children:l.jsx(C.div,{className:"bg-green-400 h-full",style:{width:`${h.progressPercent}%`},initial:{width:0},animate:{width:`${h.progressPercent}%`},transition:{duration:1.2}})}),l.jsxs("p",{className:"text-sm text-gray-300",children:[h.completedCount,"/",h.totalTopics," Topics •"," ",l.jsx("span",{className:"capitalize text-green-300",children:h.status})]})]},h.courseId)):l.jsx(C.p,{className:"text-center text-gray-300 col-span-full",initial:{opacity:0},animate:{opacity:1},children:"No course progress yet. Enroll to begin your journey!"})})]})};export{nt as default};
